<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: CanvasContextWrapper.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: CanvasContextWrapper.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>
/**
 * CanvasContextWrapper - wraps a CanvasRenderingContext2D to provide viewport capabilities.
 *
 * @class
 * @param  {Object} props
 * @param  {number} props.width The width; should match the width of the canvas element.
 * @param  {number} props.height The height; should match the height of the canvas element.
 * @param  {canvas} props.canvasContext          The canvasContext element.
 * @param  {number} [props.viewOriginX=0] X Coordinate of the viewport
 * @param  {number} [props.viewOriginY=0] y Coordinate of the viewport
 * @param  {bool} [props.imageSmoothingEnabled=false] Whether to use image smoothing.
 * @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D
 */
function CanvasContextWrapper(props) {
  this._width = props.width;
  this._height = props.height;
  this._canvasContext = props.canvasContext;
  this._viewOriginX = props.viewOriginX || 0;
  this._viewOriginY = props.viewOriginY || 0;
  this.setImageSmoothingEnabled(props.imageSmoothingEnabled || false);
};

/** Return the viewport X coordinate.
 * @return {number}
 */
CanvasContextWrapper.prototype.getViewOriginX = function() {return this._viewOriginX;};


/** Return the viewport Y coordinate.
 * @return {number}
 */
CanvasContextWrapper.prototype.getViewOriginY = function() {return this._viewOriginY;};

/** Set the X coordinate for the viewport.
 * @param  {number} viewOriginX
 */
CanvasContextWrapper.prototype.setViewOriginX = function(viewOriginX) {this._viewOriginX = viewOriginX;};

/** Set the Y coordinate for the viewport.
 * @param  {number} viewOriginY
 */
CanvasContextWrapper.prototype.setViewOriginY = function(viewOriginY) {this._viewOriginY = viewOriginY;};

/**
 * Get the canvas context for this wrapper.
 *
 * @return {CanvasRenderingContext2D}
 */
CanvasContextWrapper.prototype.getCanvasContext = function() {return this._canvasContext;};

/** Check whether imageSmoothing is enabled for this canvasContext.
 * @return {bool}
 */
CanvasContextWrapper.prototype.isImageSmoothingEnabled = function() {return this._canvasContext.imageSmoothingEnabled;};

/** Set whether imageSmoothing is enabled for this canvasContext.
 * @param {bool} imageSmoothingEnabled
 */
CanvasContextWrapper.prototype.setImageSmoothingEnabled = function(imageSmoothingEnabled) { this._canvasContext.imageSmoothingEnabled = imageSmoothingEnabled;};

/** Clear a rectangular section of the canvas.
* @param {number} x The x coordinate of the section.
* @param {number} y The y coordinate of the section.
* @param {number} width The width of the section.
* @param {number} height The height of the section.
*/
CanvasContextWrapper.prototype.clearRect = function(x, y, width, height) {
  if (this.isOutOfView(x, y, width, height))  return;
  this._canvasContext.clearRect(x + this._viewOriginX, y + this._viewOriginY, width, height);
};

/** Clear the entire visible portion of the canvas.
*/
CanvasContextWrapper.prototype.clear = function() {
  this._canvasContext.clearRect(0, 0, this._width, this._height);
};

/** Fill a rectangular section of the canvas.
* Call CanvasContextWrapper#fillStyle to change color and style aspects of this operation.
* @param {number} x The x coordinate of the section.
* @param {number} y The y coordinate of the section.
* @param {number} width The width of the section.
* @param {number} height The height of the section.
*/
CanvasContextWrapper.prototype.fillRect = function(x, y, width, height) {
  if (this.isOutOfView(x, y, width, height)) return;
  this._canvasContext.fillRect(x + this._viewOriginX, y + this._viewOriginY, width, height);
};

/** Draw an image to the canvas.
* @param {Image} image The source image to draw from.
* @param {number} sx The x coordinate on the source image to start drawing from.
* @param {number} sy The y coordinate on the source image to start drawing from.
* @param {number} sWidth The width of the section of source image to draw.
* @param {number} sHeight The height of the section of source image to draw.
* @param {number} x The target x coordinate on the canvas to start drawing the image to.
* @param {number} y The target y coordinate on the canvas to start drawing the image to.
* @param {number} width The width of the target section on the canvas to draw to.
* @param {number} height The height of the target section on the canvas to draw to.
*/
CanvasContextWrapper.prototype.drawImage = function(image, sx, sy, sWidth, sHeight, x, y, width, height) {
  if (this.isOutOfView(x, y, width, height)) return;
  this._canvasContext.drawImage(image, sx, sy, sWidth, sHeight, x + this._viewOriginX, y + this._viewOriginY, width, height);
};

/** Draw an image to the canvas, when the canvas has been rotated or flipped.
* @param {Image} image The source image to draw from.
* @param {number} sx The x coordinate on the source image to start drawing from.
* @param {number} sy The y coordinate on the source image to start drawing from.
* @param {number} sWidth The width of the section of source image to draw.
* @param {number} sHeight The height of the section of source image to draw.
* @param {number} x The target x coordinate on the canvas to start drawing the image to.
* @param {number} y The target y coordinate on the canvas to start drawing the image to.
* @param {number} width The width of the target section on the canvas to draw to.
* @param {number} height The height of the target section on the canvas to draw to.
*/
CanvasContextWrapper.prototype.drawImageWithTranslation = function(image, sx, sy, sWidth, sHeight, x, y, width, height) {
  this._canvasContext.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);
};

/** Fill a rectangular section of the canvas, when the canvas has been flipped or rotated.
* Call CanvasContextWrapper#fillStyle to change color and style aspects of this operation.
* @param {number} x The x coordinate of the section.
* @param {number} y The y coordinate of the section.
* @param {number} width The width of the section.
* @param {number} height The height of the section.
*/
CanvasContextWrapper.prototype.fillRectWithTranslation = function(x, y, width, height) {
  this._canvasContext.fillRect(x, y, width, height);
};

/** Save the current state of the canvas context.  Restore it with CanvasContextWrapper#restore */
CanvasContextWrapper.prototype.save = function() {
  this._canvasContext.save();
};

/** Restore a saved canvas context state */
CanvasContextWrapper.prototype.restore = function() {
  this._canvasContext.restore();
};

/** Move the canvas context to the specified coordinates.
* @param {number} x The x coordinate.
* @param {number} y The y coordinate.
*/
CanvasContextWrapper.prototype.translate = function(x, y) {
  this._canvasContext.translate(x + this._viewOriginX, y + this._viewOriginY);
};

/** Scale the canvas context by a percentage.
* @param {number} x The percent to horizonatally scale the context. e.g., 2 = double the canvas context width.
* @param {number} y The percent to vertically  scale the context. e.g., 0.5 = half the canvas context height.
*/
CanvasContextWrapper.prototype.scale = function(x, y) {
  this._canvasContext.scale(x, y);
};

/** Rotate the canvas.
* @param {number} rotation The amount to rotate the canvas by, in radians.
*/
CanvasContextWrapper.prototype.rotate = function(rotation) {
  this._canvasContext.rotate(rotation);
};

/** Check if a specified section of the context is outside the visible portion of the canvas.
* @param {number} x The x coordinate of the section.
* @param {number} y The y coordinate of the section.
* @param {number} width The width coordinate of the section.
* @param {number} height The height coordinate of the section.
*/
CanvasContextWrapper.prototype.isOutOfView = function(x, y, width, height) {
  return this._viewOriginX + x + width &lt; 0 ||
    this._viewOriginX + x > this._width ||
    this._viewOriginY + y + height &lt; 0 ||
    this._viewOriginY + y > this._height;
};

/** Set the fill style for the canvas context
* @param {string} style The style to apply for filling.
* For options @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/fillStyle
*/
CanvasContextWrapper.prototype.setFillStyle = function(style) {
  this._canvasContext.fillStyle = style;
};

/** Begin a drawing path.
* @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/beginPath
*/
CanvasContextWrapper.prototype.beginPath = function() {
  this._canvasContext.beginPath();
};

/**  Begin a new sub-path at the point specified by the given coordinates
* @param {number} x The x coordinate.
* @param {number} y The y coordinate.
* @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/moveTo
*/
CanvasContextWrapper.prototype.moveTo = function(x, y) {
  this._canvasContext.moveTo(this._viewOriginX + x, this._viewOriginY + y);
};

/** Add a line to current path from the current location to the specified location.
* @param {number} x The x coordinate to draw the line to.
* @param {number} y The y coordinate to draw the line to.
* @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/lineTo
*/
CanvasContextWrapper.prototype.lineTo = function(x, y) {
  this._canvasContext.lineTo(this._viewOriginX + x, this._viewOriginY + y);
};

/** Close the current path
* @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/closePath
*/
CanvasContextWrapper.prototype.closePath = function() {
  this._canvasContext.closePath();
};

/** Strokes the current path
* @param https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/stroke
*/
CanvasContextWrapper.prototype.stroke = function() {
  this._canvasContext.stroke();
};

/** Add a rectangle to the current path.
* @param {number} x The x coordinate of the rectangle.
* @param {number} y The y coordinate of the rectangle.
* @param {number} width The width of the rectangle.
* @param {number} height The height of the rectangle.
* @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/rect
*/
CanvasContextWrapper.prototype.rect = function(x, y, width, height) {
  this._canvasContext.rect(x, y, width, height);
};

/** Set the width of lines for path drawing.
* @param {number} width The width
*/
CanvasContextWrapper.prototype.setLineWidth = function(width) {
  this._canvasContext.lineWidth = width;
};

/** Set stroke style for path
* @param {string} strokeStyle
* @see https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeStyle
*/
CanvasContextWrapper.prototype.setStrokeStyle = function(strokeStyle) {
  this._canvasContext.strokeStyle = strokeStyle;
};

/** Draws a stroked rectangle.
* @param {number} x The x coordinate of the rectangle.
* @param {number} y The y coordinate of the rectangle.
* @param {number} width The width of the rectangle.
* @param {number} height The height of the rectangle.
https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/strokeRect
*/
CanvasContextWrapper.prototype.strokeRect = function(x, y, width, height) {
  this._canvasContext.strokeRect(x, y, width, height);
};

/** Fills a given text at the given (x,y) position. Optionally with a maximum width to draw.
* @param {string} text
* @param {number} x
* @param {number} y
* @param {number} maxWidth
*/
CanvasContextWrapper.prototype.fillText = function(text, x, y, maxWidth) {
  this._canvasContext.fillText(text, x, y, maxWidth);
};

/** Strokes a given text at the given (x,y) position. Optionally with a maximum width to draw.
* @param {string} text
* @param {number} x
* @param {number} y
* @param {number} maxWidth
*/
CanvasContextWrapper.prototype.strokeText = function(text, x, y, maxWidth) {
  this._canvasContext.strokeText(text, x, y, maxWidth);
};

/** Set the font style for the canvas.
* @param {string} val Style in format of '12px Sans'; the font size and the font families, separated with spaces.
*/
CanvasContextWrapper.prototype.setFontStyle = function(val) {
  this._canvasContext.font = val;
};

/** Text alignment setting. Possible values: start, end, left, right or center. The default value is start.
* @param {string} val
*/
CanvasContextWrapper.prototype.setTextAlign = function(val) {
  this._canvasContext.textAlign = val;
};

/**
* Baseline alignment setting. Possible values: top, hanging, middle, alphabetic, ideographic, bottom. The default value is alphabetic.
* @param {string} val
*/
CanvasContextWrapper.prototype.setTextBaseline = function(val) {
  this._canvasContext.textBaseline = val;
};

/**
* Set directionality for text. Possible values: ltr, rtl, inherit. The default value is inherit.
* @param {string} val
*/
CanvasContextWrapper.prototype.setTextDirection = function(val) {
  this._canvasContext.direction = val;
};

module.exports = CanvasContextWrapper;
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="EventType.html">EventType</a></li></ul><h3>Classes</h3><ul><li><a href="BackgroundLayer.html">BackgroundLayer</a></li><li><a href="CanvasContextWrapper.html">CanvasContextWrapper</a></li><li><a href="GfxElement.html">GfxElement</a></li><li><a href="GfxElementZIndexComparable.html">GfxElementZIndexComparable</a></li><li><a href="GfxLayer.html">GfxLayer</a></li><li><a href="ImageElement.html">ImageElement</a></li><li><a href="ImageLoader.html">ImageLoader</a></li><li><a href="ImageRenderer.html">ImageRenderer</a></li><li><a href="ImageSprite.html">ImageSprite</a></li><li><a href="ImageSpriteFrame.html">ImageSpriteFrame</a></li><li><a href="Layer.html">Layer</a></li><li><a href="LayerFactory.html">LayerFactory</a></li><li><a href="MouseEvent.html">MouseEvent</a></li><li><a href="MoveOrder.html">MoveOrder</a></li><li><a href="Screen.html">Screen</a></li><li><a href="Sprite.html">Sprite</a></li></ul><h3>Interfaces</h3><ul><li><a href="AnimationFrame.html">AnimationFrame</a></li><li><a href="ILayerFactory.html">ILayerFactory</a></li></ul><h3>Events</h3><ul><li><a href="BackgroundLayer.html#event:ELEMENT_HIT_BOTTOM_EDGE">ELEMENT_HIT_BOTTOM_EDGE</a></li><li><a href="BackgroundLayer.html#event:ELEMENT_HIT_LEFT_EDGE">ELEMENT_HIT_LEFT_EDGE</a></li><li><a href="BackgroundLayer.html#event:ELEMENT_HIT_RIGHT_EDGE">ELEMENT_HIT_RIGHT_EDGE</a></li><li><a href="BackgroundLayer.html#event:ELEMENT_HIT_TOP_EDGE">ELEMENT_HIT_TOP_EDGE</a></li><li><a href="GfxElement.html#event:ELEMENT_COLLISION">ELEMENT_COLLISION</a></li><li><a href="GfxElement.html#event:ELEMENT_MOVED">ELEMENT_MOVED</a></li><li><a href="GfxElement.html#event:ELEMENT_STARTED_MOVING">ELEMENT_STARTED_MOVING</a></li><li><a href="GfxElement.html#event:ELEMENT_STOPPED_MOVING">ELEMENT_STOPPED_MOVING</a></li><li><a href="GfxElement.html#event:MOUSE_DOWN_ON_ELEMENT">MOUSE_DOWN_ON_ELEMENT</a></li><li><a href="GfxElement.html#event:MOUSE_ENTER_ELEMENT">MOUSE_ENTER_ELEMENT</a></li><li><a href="GfxElement.html#event:MOUSE_EXIT_ELEMENT">MOUSE_EXIT_ELEMENT</a></li><li><a href="GfxElement.html#event:MOUSE_MOVE_OVER_ELEMENT">MOUSE_MOVE_OVER_ELEMENT</a></li><li><a href="GfxElement.html#event:MOUSE_UP_ON_ELEMENT">MOUSE_UP_ON_ELEMENT</a></li><li><a href="GfxLayer.html#event:ELEMENT_HIT_BOTTOM_EDGE">ELEMENT_HIT_BOTTOM_EDGE</a></li><li><a href="GfxLayer.html#event:ELEMENT_HIT_LEFT_EDGE">ELEMENT_HIT_LEFT_EDGE</a></li><li><a href="GfxLayer.html#event:ELEMENT_HIT_RIGHT_EDGE">ELEMENT_HIT_RIGHT_EDGE</a></li><li><a href="GfxLayer.html#event:ELEMENT_HIT_TOP_EDGE">ELEMENT_HIT_TOP_EDGE</a></li><li><a href="ImageElement.html#event:ELEMENT_COLLISION">ELEMENT_COLLISION</a></li><li><a href="ImageElement.html#event:ELEMENT_MOVED">ELEMENT_MOVED</a></li><li><a href="ImageElement.html#event:ELEMENT_STARTED_MOVING">ELEMENT_STARTED_MOVING</a></li><li><a href="ImageElement.html#event:ELEMENT_STOPPED_MOVING">ELEMENT_STOPPED_MOVING</a></li><li><a href="ImageElement.html#event:MOUSE_DOWN_ON_ELEMENT">MOUSE_DOWN_ON_ELEMENT</a></li><li><a href="ImageElement.html#event:MOUSE_ENTER_ELEMENT">MOUSE_ENTER_ELEMENT</a></li><li><a href="ImageElement.html#event:MOUSE_EXIT_ELEMENT">MOUSE_EXIT_ELEMENT</a></li><li><a href="ImageElement.html#event:MOUSE_MOVE_OVER_ELEMENT">MOUSE_MOVE_OVER_ELEMENT</a></li><li><a href="ImageElement.html#event:MOUSE_UP_ON_ELEMENT">MOUSE_UP_ON_ELEMENT</a></li><li><a href="ImageSprite.html#event:ELEMENT_COLLISION">ELEMENT_COLLISION</a></li><li><a href="ImageSprite.html#event:ELEMENT_MOVED">ELEMENT_MOVED</a></li><li><a href="ImageSprite.html#event:ELEMENT_STARTED_MOVING">ELEMENT_STARTED_MOVING</a></li><li><a href="ImageSprite.html#event:ELEMENT_STOPPED_MOVING">ELEMENT_STOPPED_MOVING</a></li><li><a href="ImageSprite.html#event:MOUSE_DOWN_ON_ELEMENT">MOUSE_DOWN_ON_ELEMENT</a></li><li><a href="ImageSprite.html#event:MOUSE_ENTER_ELEMENT">MOUSE_ENTER_ELEMENT</a></li><li><a href="ImageSprite.html#event:MOUSE_EXIT_ELEMENT">MOUSE_EXIT_ELEMENT</a></li><li><a href="ImageSprite.html#event:MOUSE_MOVE_OVER_ELEMENT">MOUSE_MOVE_OVER_ELEMENT</a></li><li><a href="ImageSprite.html#event:MOUSE_UP_ON_ELEMENT">MOUSE_UP_ON_ELEMENT</a></li><li><a href="ImageSprite.html#event:SPRITE_ANIMATION_DONE">SPRITE_ANIMATION_DONE</a></li><li><a href="Screen.html#event:AFTER_RENDER">AFTER_RENDER</a></li><li><a href="Screen.html#event:BEFORE_RENDER">BEFORE_RENDER</a></li><li><a href="Screen.html#event:MOUSE_DOWN">MOUSE_DOWN</a></li><li><a href="Screen.html#event:MOUSE_MOVE">MOUSE_MOVE</a></li><li><a href="Screen.html#event:MOUSE_UP">MOUSE_UP</a></li><li><a href="Screen.html#event:NEXT_FRAME_BEGIN">NEXT_FRAME_BEGIN</a></li><li><a href="Screen.html#event:NEXT_FRAME_END">NEXT_FRAME_END</a></li><li><a href="Screen.html#event:SCREEN_PAUSED">SCREEN_PAUSED</a></li><li><a href="Screen.html#event:SCREEN_RESUMED">SCREEN_RESUMED</a></li><li><a href="Sprite.html#event:ELEMENT_COLLISION">ELEMENT_COLLISION</a></li><li><a href="Sprite.html#event:ELEMENT_MOVED">ELEMENT_MOVED</a></li><li><a href="Sprite.html#event:ELEMENT_STARTED_MOVING">ELEMENT_STARTED_MOVING</a></li><li><a href="Sprite.html#event:ELEMENT_STOPPED_MOVING">ELEMENT_STOPPED_MOVING</a></li><li><a href="Sprite.html#event:MOUSE_DOWN_ON_ELEMENT">MOUSE_DOWN_ON_ELEMENT</a></li><li><a href="Sprite.html#event:MOUSE_ENTER_ELEMENT">MOUSE_ENTER_ELEMENT</a></li><li><a href="Sprite.html#event:MOUSE_EXIT_ELEMENT">MOUSE_EXIT_ELEMENT</a></li><li><a href="Sprite.html#event:MOUSE_MOVE_OVER_ELEMENT">MOUSE_MOVE_OVER_ELEMENT</a></li><li><a href="Sprite.html#event:MOUSE_UP_ON_ELEMENT">MOUSE_UP_ON_ELEMENT</a></li><li><a href="Sprite.html#event:SPRITE_ANIMATION_DONE">SPRITE_ANIMATION_DONE</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Sun Apr 05 2020 15:45:44 GMT-0500 (CDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
